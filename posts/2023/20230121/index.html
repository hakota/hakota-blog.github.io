<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"/><meta name="og:site_name" content="hakota's Blog"/><link rel="canonical" href="https://hakota.github.io/posts/2023/20230121"/><meta name="twitter:url" content="https://hakota.github.io/posts/2023/20230121"/><meta name="og:url" content="https://hakota.github.io/posts/2023/20230121"/><title>ADEPからカスタムAppに移行した話 | hakota's Blog</title><meta name="twitter:title" content="ADEPからカスタムAppに移行した話 | hakota's Blog"/><meta name="og:title" content="ADEPからカスタムAppに移行した話 | hakota's Blog"/><meta name="description" content="ADEPからカスタムAppへ切り替えた時の話"/><meta name="twitter:description" content="ADEPからカスタムAppへ切り替えた時の話"/><meta name="og:description" content="ADEPからカスタムAppへ切り替えた時の話"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><link rel="stylesheet" href="/sundellsColors.css" type="text/css"/><link rel="stylesheet" href="/markdown.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/Assets/icon.jpeg" type="image/jpeg"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to hakota's Blog"/><meta name="twitter:image" content="https://hakota.github.io/Assets/icon.jpeg"/><meta name="og:image" content="https://hakota.github.io/Assets/icon.jpeg"/></head><body class="item-page"><script async src="https://platform.twitter.com/widgets.js"></script><header><div class="wrapper"><a href="/" class="site-name">hakota's Blog</a></div></header><div class="wrapper"><div class="share-buttons"><a href="https://twitter.com/intent/tweet?text=ADEP%E3%81%8B%E3%82%89%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0App%E3%81%AB%E7%A7%BB%E8%A1%8C%E3%81%97%E3%81%9F%E8%A9%B1%20%7C%20hakota%27s%20Blog&url=https%3A//hakota.github.io/posts/2023/20230121" class="twitter-share-button">ツイート</a></div><article><div class="content"><h1>ADEPからカスタムAppに移行した話</h1><h2>はじめに</h2><p>皆さんは、<a href="https://developer.apple.com/jp/programs/enterprise/">ADEP(Apple Developer Enterprise Program)</a> を利用したことはありますか？ ADEPはMDMなどを用いて社内の業務用アプリなどを開発し配布するためのProgramです。 弊社でもADEPで社内向けアプリを配布していましたが、<a href="https://www.micss.biz/2020/06/19/1774/">Appleが意図していないADEPの使用方法が横行</a>したことで Appleは規制を強化しはじめました。 弊社もより安全に社内向けアプリを配布できるようにするため（規制がどうなるかわからないので）代替となるカスタムAppへ移行しようという話になりました。</p><table border="1">
<tr><th><img src="/Assets/20230121_01.png"></th></tr>
</table><h2>カスタムAppとは？</h2><blockquote><p><a href="https://developer.apple.com/jp/custom-apps/">カスタムApp</a> 企業や教育機関の個々のニーズに応えるカスタムAppをデザインし、開発しましょう。<a href="https://support.apple.com/ja-jp/guide/apple-business-manager/welcome/web">Apple Business Manager</a> および <a href="https://support.apple.com/ja-jp/guide/apple-school-manager/welcome/web">Apple School Manager</a> を使うと、 Appを特定のパートナー、クライアント、フランチャイズに対して、 非公開かつ安全に配信することができます。また、組織内の従業員に独自のAppを配信することもできます。</p></blockquote><p>Enterpriseに代わる社内やパートナーに対してアプリをプライベートで配信可能なソリューションの一つとしてAppleから提供されています。</p><h2>ADEPとの違い</h2><p>カスタムAppは、Apple Developer Program を利用します。 つまり、通常のアプリのように審査のフローが発生します。 なので、レビューのガイドラインに違反していたり、不備があったりしたらリジェクトされます。 今まで社内アプリだったので、その辺を正しく対応していなかった場合は注意が必要です。 例えば Apple Developer Program だと<a href="https://developer.apple.com/jp/app-store/review/guidelines/#legal">プライバシーポリシーのURLが必須かつアプリ内からも参照できるようにしないとリジェクトの対象</a>になります。 考慮していなかった場合は準備をしましょう。</p><table border="1">
<tr><th><img src="/Assets/20230121_02.png"></th></tr>
</table><h2>通常の Apple Developer Program との違い</h2><p>※弊社は既にApple Business Managerに加入していたので登録まわりの話は省きます。</p><p>基本的には新しいアプリをApple Developer Programに追加することと大差がありません。違いとしては、審査に提出する前に価格および配信設定で非公開を選ぶことです。</p><table border="1">
<tr><th><img src="/Assets/20230121_03.png"></th></tr>
</table><p>組織IDと組織名を入力する欄があるので、そちらにApple Business Managerの該当の文字列を追加してから、審査に提出します。審査通過後に公開ボタンを押すと以下のアラートが表示されます。</p><table border="1">
<tr><th><img src="/Assets/20230121_04.png"></th></tr>
</table><p>AppStore上には反映されずに、Apple Business Manager上に表示されるようになります。もし、カスタムAppの項目が表示されていない場合は<a href="https://pai-r.com/pdf/AppleBusinessManager_Manual_ver.1.00.pdf">設定から有効にする</a>必要があります。</p><h2>その他</h2><p>ADEPからApple Developer Programに変更ということは、アプリの登録を再度行うことになりますが、ADEPで使用していたBundleIDは利用できないので新しいものを考えて設定する必要があります。</p><table border="1">
  <tr>
    <th>同じBundleIDを指定した場合に表示されるダイアログ</th>
  </tr>
  <tr>
    <td> <img src="/Assets/20230121_05.png"> </td>
  </tr>
</table><p>同じBundleIDを指定した場合に表示されるダイアログ また、BundleIDに依存しているサードパーティのツールやSDKなどの設定、Push通知等も軒並み変更する作業が必要です。（FirebaseやGoogleMaps SDKなど）</p><h2>まとめ</h2><p>より安全な方法で社内向けアプリを配布することができるようになりました。 しかし、審査のフローが入ることで今までよりも社内展開するのが遅くなったり、常にサポートをやっていかないといざというときに審査に提出すら、すぐにできない状況に陥ってしまうので注意が必要です。 （例えば、古いAPIを呼び出している等）その他には、Apple Developer Programの支払いだけで社内展開ができるようになるので、金銭的なメリットはあったりします。</p></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/adep">ADEP</a></li><li><a href="/tags/カスタムapp">カスタムApp</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>